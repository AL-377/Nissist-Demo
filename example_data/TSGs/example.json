[
    {
        "#type#": "terminology",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "What is Service A to Service B Connection?",
        "#action#": "<the definition of the connection between Service A and Service B>",
        "#output#": "",
        "#default_parameters#": {}
    },
    {
        "#type#": "background",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "What is the role of Service B?",
        "#action#": "<the role of Service B>",
        "#output#": "",
        "#default_parameters#": {}
    },
    {
        "#type#": "background",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "How does Service A establish connections to Service B gateway?",
        "#action#": "<the process of connection establishment>",
        "#output#": "",
        "#default_parameters#": {}
    },
    {
        "#type#": "faq",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "How to get the list of incidents with the <monitor ID>?",
        "#action#": "Run the following Kusto query:\n\n```kusto\n<code block>\n```",
        "#output#": "",
        "#default_parameters#": {
            "<NUMBER OF DAYS>": "100",
            "<MONITOR ID>": "xxxxxx",
            "<TOP NUMBER of RECORDS>": "100"
        }
    },
    {
        "#type#": "steps",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "How to Investigate Service A to Service B Connection Lost Incident\nDetermine the Region and Cluster Name.",
        "#action#": "The region and cluster name can be found in the incident title.",
        "#output#": "If the region and cluster name are determined, then you should check Pull Task Execution From the Cluster.[CONTINUE]",
        "#default_parameters#": {}
    },
    {
        "#type#": "steps",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "Check Pull Task Execution From the Cluster.",
        "#action#": "Run the following query to check pull task execution from the cluster (please use the cluster name from the previous step):\n\n```kusto\n<code block>\n```",
        "#output#": "If the data point is always above zero, then consider the alert as false alarm.[MITIGATE] If the chart sometimes drops to zero one hour ago and the number is low in general, it means the customer traffic in the cluster is low. In this case, observe for a longer period of time.[MITIGATE] If the data point is zero consistently in the past 30 minutes, then it is a real problem, and please Check if Other Clusters In the Region are Impacted.[CONTINUE] Otherwise, continue to observe since NSM is pulling RNM just fine.[MITIGATE]",
        "#default_parameters#": {
            "<START TIME>": "2024-01-01",
            "<CLUSTER NAME>": "xxxxxx"
        }
    },
    {
        "#type#": "steps",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "Check if Other Clusters In the Region are Impacted.",
        "#action#": "Run the following Kusto query to get the incidents in the last day:\n\n```kusto\n<code block>\n```",
        "#output#": "If the incident count is one, follow the instructions at Failover Cluster to pick a new Monitor and see if the symptom goes away (wait 15 to 30 minutes and run Step 1).[CROSS] If the incident count is more than one, proceed to Check TCP Connectivity of All VIP Endpoints in Serive B.[CONTINUE]",
        "#default_parameters#": {
            "<REGION_NAME>": "xxxxxx",
            "<START_TIME>": "2024-01-01",
            "<TIME_SPAN>": "1d",
            "<MONITOR_ID>": "xxxxxx",
            "<TOP_NUMBER>": "100"
        }
    },
    {
        "#type#": "steps",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "Check TCP Connectivity of All VIP Endpoints in Service B.",
        "#action#": "Use the following PowerShell command (replace name with the actual region name in the previous step):\n\n<command line>",
        "#output#": "If all endpoints are reachable (When you reach this step, assume that all endpoints are reachable after executing the shell command), the result will look like the example provided. You can try the command several times. The result should be consistent.[MITIGATE].",
        "#default_parameters#": {
            "<DOMAIN_NAME>": "xxxxxx",
            "<PORT_NUMBER>": "xxxxxx"
        }
    },
    {
        "#type#": "appendix",
        "#title#": "How to Investigate Service A to Service B Connection Lost Incident",
        "#intent#": "What is the Service B Connection Heartbeat Dashboard?",
        "#action#": "the explanation of the Heartbeat Dashboard",
        "#output#": "",
        "#default_parameters#": {}
    }
]